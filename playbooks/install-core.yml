- hosts: master
  gather_facts: False
  roles:
    - { role: common, tags: [ 'minimal' ] }
    - { role: weave-network, tags: [ 'minimal' ] }
    - { role: start-helm, tags: [ 'minimal' ] }
    - { role: traefik, tags: [ 'traefik' ], when {{groups['edge'] | length}} > 0 }
    - { role: heketi-gluster, tags: [ 'heketi-glusterfs' ], when glusternode_count is defined and glusternode_count > 0 }
